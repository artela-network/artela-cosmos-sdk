(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{627:function(e,t,s){"use strict";s.r(t);var a=s(1),c=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"adr-43-nft-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adr-43-nft-module"}},[e._v("#")]),e._v(" ADR 43: NFT Module")]),e._v(" "),s("h2",{attrs:{id:"changelog"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changelog"}},[e._v("#")]),e._v(" Changelog")]),e._v(" "),s("ul",[s("li",[e._v("2021-05-01: Initial Draft")]),e._v(" "),s("li",[e._v("2021-07-02: Review updates")])]),e._v(" "),s("h2",{attrs:{id:"status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#status"}},[e._v("#")]),e._v(" Status")]),e._v(" "),s("p",[e._v("PROPOSED")]),e._v(" "),s("h2",{attrs:{id:"abstract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#abstract"}},[e._v("#")]),e._v(" Abstract")]),e._v(" "),s("p",[e._v("This ADR defines the "),s("code",[e._v("x/nft")]),e._v(' module which is a generic implementation of NFTs, roughly "compatible" with ERC721. '),s("strong",[e._v("Applications using the "),s("code",[e._v("x/nft")]),e._v(" module must implement the following functions")]),e._v(":")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("MsgNewClass")]),e._v(" - Receive the user's request to create a class, and call the "),s("code",[e._v("NewClass")]),e._v(" of the "),s("code",[e._v("x/nft")]),e._v(" module.")]),e._v(" "),s("li",[s("code",[e._v("MsgUpdateClass")]),e._v(" - Receive the user's request to update a class, and call the "),s("code",[e._v("UpdateClass")]),e._v(" of the "),s("code",[e._v("x/nft")]),e._v(" module.")]),e._v(" "),s("li",[s("code",[e._v("MsgMintNFT")]),e._v(" - Receive the user's request to mint a nft, and call the "),s("code",[e._v("MintNFT")]),e._v(" of the "),s("code",[e._v("x/nft")]),e._v(" module.")]),e._v(" "),s("li",[s("code",[e._v("BurnNFT")]),e._v(" - Receive the user's request to burn a nft, and call the "),s("code",[e._v("BurnNFT")]),e._v(" of the "),s("code",[e._v("x/nft")]),e._v(" module.")]),e._v(" "),s("li",[s("code",[e._v("UpdateNFT")]),e._v(" - Receive the user's request to update a nft, and call the "),s("code",[e._v("UpdateNFT")]),e._v(" of the "),s("code",[e._v("x/nft")]),e._v(" module.")])]),e._v(" "),s("h2",{attrs:{id:"context"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#context"}},[e._v("#")]),e._v(" Context")]),e._v(" "),s("p",[e._v("NFTs are more than just crypto art, which is very helpful for accruing value to the Cosmos ecosystem. As a result, Cosmos Hub should implement NFT functions and enable a unified mechanism for storing and sending the ownership representative of NFTs as discussed in https://github.com/cosmos/cosmos-sdk/discussions/9065.")]),e._v(" "),s("p",[e._v("As discussed in "),s("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/discussions/9065",target:"_blank",rel:"noopener noreferrer"}},[e._v("#9065"),s("OutboundLink")],1),e._v(", several potential solutions can be considered:")]),e._v(" "),s("ul",[s("li",[e._v("irismod/nft and modules/incubator/nft")]),e._v(" "),s("li",[e._v("CW721")]),e._v(" "),s("li",[e._v("DID NFTs")]),e._v(" "),s("li",[e._v("interNFT")])]),e._v(" "),s("p",[e._v("Since functions/use cases of NFTs are tightly connected with their logic, it is almost impossible to support all the NFTs' use cases in one Cosmos SDK module by defining and implementing different transaction types.")]),e._v(" "),s("p",[e._v("Considering generic usage and compatibility of interchain protocols including IBC and Gravity Bridge, it is preferred to have a generic NFT module design which handles the generic NFTs logic.\nThis design idea can enable composability that application-specific functions should be managed by other modules on Cosmos Hub or on other Zones by importing the NFT module.")]),e._v(" "),s("p",[e._v("The current design is based on the work done by "),s("a",{attrs:{href:"https://github.com/irisnet/irismod/tree/master/modules/nft",target:"_blank",rel:"noopener noreferrer"}},[e._v("IRISnet team"),s("OutboundLink")],1),e._v(" and an older implementation in the "),s("a",{attrs:{href:"https://github.com/cosmos/modules/tree/master/incubator/nft",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmos repository"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("h2",{attrs:{id:"decision"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#decision"}},[e._v("#")]),e._v(" Decision")]),e._v(" "),s("p",[e._v("We create a "),s("code",[e._v("x/nft")]),e._v(" module, which contains the following functionality:")]),e._v(" "),s("ul",[s("li",[e._v("Store NFTs and track their ownership.")]),e._v(" "),s("li",[e._v("Expose "),s("code",[e._v("Keeper")]),e._v(" interface for composing modules to transfer, mint and burn NFTs.")]),e._v(" "),s("li",[e._v("Expose external "),s("code",[e._v("Message")]),e._v(" interface for users to transfer ownership of their NFTs.")]),e._v(" "),s("li",[e._v("Query NFTs and their supply information.")])]),e._v(" "),s("p",[e._v("The proposed module is a base module for NFT app logic. It's goal it to provide a common layer for storage, basic transfer functionality and IBC. The module should not be used as a standalone.\nInstead an app should create a specialized module to handle app specific logic (eg: NFT ID construction, royalty), user level minting and burning. Moreover an app specialized module should handle auxiliary data to support the app logic (eg indexes, ORM, business data).")]),e._v(" "),s("p",[e._v("All data carried over IBC must be part of the "),s("code",[e._v("NFT")]),e._v(" or "),s("code",[e._v("Class")]),e._v(" type described below. The app specific NFT data should be encoded in "),s("code",[e._v("NFT.data")]),e._v(" for cross-chain integrity. Other objects related to NFT, which are not important for integrity can be part of the app specific module.")]),e._v(" "),s("h3",{attrs:{id:"types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#types"}},[e._v("#")]),e._v(" Types")]),e._v(" "),s("p",[e._v("We propose two main types:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("Class")]),e._v(" -- describes NFT class. We can think about it as a smart contract address.")]),e._v(" "),s("li",[s("code",[e._v("NFT")]),e._v(" -- object representing unique, non fungible asset. Each NFT is associated with a Class.")])]),e._v(" "),s("h4",{attrs:{id:"class"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#class"}},[e._v("#")]),e._v(" Class")]),e._v(" "),s("p",[e._v("NFT "),s("strong",[e._v("Class")]),e._v(" is comparable to an ERC-721 smart contract (provides description of a smart contract), under which a collection of NFTs can be created and managed.")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBDbGFzcyB7CiAgc3RyaW5nIGlkICAgICAgICAgID0gMTsKICBzdHJpbmcgbmFtZSAgICAgICAgPSAyOwogIHN0cmluZyBzeW1ib2wgICAgICA9IDM7CiAgc3RyaW5nIGRlc2NyaXB0aW9uID0gNDsKICBzdHJpbmcgdXJpICAgICAgICAgPSA1OwogIHN0cmluZyB1cmlfaGFzaCAgICA9IDY7CiAgZ29vZ2xlLnByb3RvYnVmLkFueSBkYXRhID0gNzsKfQo="}}),e._v(" "),s("ul",[s("li",[s("code",[e._v("id")]),e._v(" is an alphanumeric identifier of the NFT class; it is used as the primary index for storing the class; "),s("em",[e._v("required")])]),e._v(" "),s("li",[s("code",[e._v("name")]),e._v(" is a descriptive name of the NFT class; "),s("em",[e._v("optional")])]),e._v(" "),s("li",[s("code",[e._v("symbol")]),e._v(" is the symbol usually shown on exchanges for the NFT class; "),s("em",[e._v("optional")])]),e._v(" "),s("li",[s("code",[e._v("description")]),e._v(" is a detailed description of the NFT class; "),s("em",[e._v("optional")])]),e._v(" "),s("li",[s("code",[e._v("uri")]),e._v(" is a URI for the class metadata stored off chain. It should be a JSON file that contains metadata about the NFT class and NFT data schema ("),s("a",{attrs:{href:"https://docs.opensea.io/docs/contract-level-metadata",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenSea example"),s("OutboundLink")],1),e._v("); "),s("em",[e._v("optional")])]),e._v(" "),s("li",[s("code",[e._v("uri_hash")]),e._v(" is a hash of the document pointed by uri; "),s("em",[e._v("optional")])]),e._v(" "),s("li",[s("code",[e._v("data")]),e._v(" is app specific metadata of the class; "),s("em",[e._v("optional")])])]),e._v(" "),s("h4",{attrs:{id:"nft"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nft"}},[e._v("#")]),e._v(" NFT")]),e._v(" "),s("p",[e._v("We define a general model for "),s("code",[e._v("NFT")]),e._v(" as follows.")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"bWVzc2FnZSBORlQgewogIHN0cmluZyBjbGFzc19pZCAgICAgICAgICAgPSAxOwogIHN0cmluZyBpZCAgICAgICAgICAgICAgICAgPSAyOwogIHN0cmluZyB1cmkgICAgICAgICAgICAgICAgPSAzOwogIHN0cmluZyB1cmlfaGFzaCAgICAgICAgICAgPSA0OwogIGdvb2dsZS5wcm90b2J1Zi5BbnkgZGF0YSAgPSAxMDsKfQo="}}),e._v(" "),s("ul",[s("li",[s("p",[s("code",[e._v("class_id")]),e._v(" is the identifier of the NFT class where the NFT belongs; "),s("em",[e._v("required")]),e._v(","),s("code",[e._v("[a-zA-Z][a-zA-Z0-9/:-]{2,100}")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("id")]),e._v(" is an alphanumeric identifier of the NFT, unique within the scope of its class. It is specified by the creator of the NFT and may be expanded to use DID in the future. "),s("code",[e._v("class_id")]),e._v(" combined with "),s("code",[e._v("id")]),e._v(" uniquely identifies an NFT and is used as the primary index for storing the NFT; "),s("em",[e._v("required")]),e._v(","),s("code",[e._v("[a-zA-Z][a-zA-Z0-9/:-]{2,100}")])]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"text",base64:"e2NsYXNzX2lkfS97aWR9IC0tJmd0OyBORlQgKGJ5dGVzKQo="}})],1),e._v(" "),s("li",[s("p",[s("code",[e._v("uri")]),e._v(" is a URI for the NFT metadata stored off chain. Should point to a JSON file that contains metadata about this NFT (Ref: "),s("a",{attrs:{href:"https://docs.opensea.io/docs/metadata-standards",target:"_blank",rel:"noopener noreferrer"}},[e._v("ERC721 standard and OpenSea extension"),s("OutboundLink")],1),e._v("); "),s("em",[e._v("required")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("uri_hash")]),e._v(" is a hash of the document pointed by uri; "),s("em",[e._v("optional")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("data")]),e._v(" is an app specific data of the NFT. CAN be used by composing modules to specify additional properties of the NFT; "),s("em",[e._v("optional")])])])]),e._v(" "),s("p",[e._v("This ADR doesn't specify values that "),s("code",[e._v("data")]),e._v(" can take; however, best practices recommend upper-level NFT modules clearly specify their contents.  Although the value of this field doesn't provide the additional context required to manage NFT records, which means that the field can technically be removed from the specification, the field's existence allows basic informational/UI functionality.")]),e._v(" "),s("h3",{attrs:{id:"keeper-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#keeper-interface"}},[e._v("#")]),e._v(" "),s("code",[e._v("Keeper")]),e._v(" Interface")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBLZWVwZXIgaW50ZXJmYWNlIHsKICBOZXdDbGFzcyhjbGFzcyBDbGFzcykKICBVcGRhdGVDbGFzcyhjbGFzcyBDbGFzcykKCiAgTWludChuZnQgTkZU77yMcmVjZWl2ZXIgc2RrLkFjY0FkZHJlc3MpICAgLy8gdXBkYXRlcyB0b3RhbFN1cHBseQogIEJ1cm4oY2xhc3NJZCBzdHJpbmcsIG5mdElkIHN0cmluZykgICAgLy8gdXBkYXRlcyB0b3RhbFN1cHBseQogIFVwZGF0ZShuZnQgTkZUKQogIFRyYW5zZmVyKGNsYXNzSWQgc3RyaW5nLCBuZnRJZCBzdHJpbmcsIHJlY2VpdmVyIHNkay5BY2NBZGRyZXNzKQoKICBHZXRDbGFzcyhjbGFzc0lkIHN0cmluZykgQ2xhc3MKICBHZXRDbGFzc2VzKCkgW11DbGFzcwoKICBHZXRORlQoY2xhc3NJZCBzdHJpbmcsIG5mdElkIHN0cmluZykgTkZUCiAgR2V0TkZUc09mQ2xhc3NCeU93bmVyKGNsYXNzSWQgc3RyaW5nLCBvd25lciBzZGsuQWNjQWRkcmVzcykgW11ORlQKICBHZXRORlRzT2ZDbGFzcyhjbGFzc0lkIHN0cmluZykgW11ORlQKCiAgR2V0T3duZXIoY2xhc3NJZCBzdHJpbmcsIG5mdElkIHN0cmluZykgc2RrLkFjY0FkZHJlc3MKICBHZXRCYWxhbmNlKGNsYXNzSWQgc3RyaW5nLCBvd25lciBzZGsuQWNjQWRkcmVzcykgdWludDY0CiAgR2V0VG90YWxTdXBwbHkoY2xhc3NJZCBzdHJpbmcpIHVpbnQ2NAp9Cg=="}}),e._v(" "),s("p",[e._v("Other business logic implementations should be defined in composing modules that import "),s("code",[e._v("x/nft")]),e._v(" and use its "),s("code",[e._v("Keeper")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"msg-service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#msg-service"}},[e._v("#")]),e._v(" "),s("code",[e._v("Msg")]),e._v(" Service")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"protobuf",base64:"c2VydmljZSBNc2cgewogIHJwYyBTZW5kKE1zZ1NlbmQpICAgICAgICAgcmV0dXJucyAoTXNnU2VuZFJlc3BvbnNlKTsKfQoKbWVzc2FnZSBNc2dTZW5kIHsKICBzdHJpbmcgY2xhc3NfaWQgPSAxOwogIHN0cmluZyBpZCAgICAgICA9IDI7CiAgc3RyaW5nIHNlbmRlciAgID0gMzsKICBzdHJpbmcgcmV2ZWl2ZXIgPSA0Owp9Cm1lc3NhZ2UgTXNnU2VuZFJlc3BvbnNlIHt9Cg=="}}),e._v(" "),s("p",[s("code",[e._v("MsgSend")]),e._v(" can be used to transfer the ownership of an NFT to another address.")]),e._v(" "),s("p",[e._v("The implementation outline of the server is as follows:")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBtc2dTZXJ2ZXIgc3RydWN0ewogIGsgS2VlcGVyCn0KCmZ1bmMgKG0gbXNnU2VydmVyKSBTZW5kKGN0eCBjb250ZXh0LkNvbnRleHQsIG1zZyAqdHlwZXMuTXNnU2VuZCkgKCp0eXBlcy5Nc2dTZW5kUmVzcG9uc2UsIGVycm9yKSB7CiAgLy8gY2hlY2sgY3VycmVudCBvd25lcnNoaXAKICBhc3NlcnRFcXVhbChtc2cuU2VuZGVyLCBtLmsuR2V0T3duZXIobXNnLkNsYXNzSWQsIG1zZy5JZCkpCgogIC8vIHRyYW5zZmVyIG93bmVyc2hpcAogIG0uay5UcmFuc2Zlcihtc2cuQ2xhc3NJZCwgbXNnLklkLCBtc2cuUmVjZWl2ZXIpCgogIHJldHVybiAmYW1wO3R5cGVzLk1zZ1NlbmRSZXNwb25zZXt9LCBuaWwKfQo="}}),e._v(" "),s("p",[e._v("The query service methods for the "),s("code",[e._v("x/nft")]),e._v(" module are:")]),e._v(" "),s("tm-code-block",{staticClass:"codeblock",attrs:{language:"proto",base64:"c2VydmljZSBRdWVyeSB7CiAgLy8gQmFsYW5jZSBxdWVyaWVzIHRoZSBudW1iZXIgb2YgTkZUcyBvZiBhIGdpdmVuIGNsYXNzIG93bmVkIGJ5IHRoZSBvd25lciwgc2FtZSBhcyBiYWxhbmNlT2YgaW4gRVJDNzIxCiAgcnBjIEJhbGFuY2UoUXVlcnlCYWxhbmNlUmVxdWVzdCkgcmV0dXJucyAoUXVlcnlCYWxhbmNlUmVzcG9uc2UpIHsKICAgIG9wdGlvbiAoZ29vZ2xlLmFwaS5odHRwKS5nZXQgPSAmcXVvdDsvY29zbW9zL25mdC92MWJldGExL2JhbGFuY2Uve293bmVyfS97Y2xhc3NfaWR9JnF1b3Q7OwogIH0KCiAgLy8gT3duZXIgcXVlcmllcyB0aGUgb3duZXIgb2YgdGhlIE5GVCBiYXNlZCBvbiBpdHMgY2xhc3MgYW5kIGlkLCBzYW1lIGFzIG93bmVyT2YgaW4gRVJDNzIxCiAgcnBjIE93bmVyKFF1ZXJ5T3duZXJSZXF1ZXN0KSByZXR1cm5zIChRdWVyeU93bmVyUmVzcG9uc2UpIHsKICAgIG9wdGlvbiAoZ29vZ2xlLmFwaS5odHRwKS5nZXQgPSAmcXVvdDsvY29zbW9zL25mdC92MWJldGExL293bmVyL3tjbGFzc19pZH0ve2lkfSZxdW90OzsKICB9CgogIC8vIFN1cHBseSBxdWVyaWVzIHRoZSBudW1iZXIgb2YgTkZUcyBmcm9tIHRoZSBnaXZlbiBjbGFzcywgc2FtZSBhcyB0b3RhbFN1cHBseSBvZiBFUkM3MjEuCiAgcnBjIFN1cHBseShRdWVyeVN1cHBseVJlcXVlc3QpIHJldHVybnMgKFF1ZXJ5U3VwcGx5UmVzcG9uc2UpIHsKICAgIG9wdGlvbiAoZ29vZ2xlLmFwaS5odHRwKS5nZXQgPSAmcXVvdDsvY29zbW9zL25mdC92MWJldGExL3N1cHBseS97Y2xhc3NfaWR9JnF1b3Q7OwogIH0KCiAgLy8gTkZUcyBxdWVyaWVzIGFsbCBORlRzIG9mIGEgZ2l2ZW4gY2xhc3Mgb3Igb3duZXIsY2hvb3NlIGF0IGxlYXN0IG9uZSBvZiB0aGUgdHdvLCBzaW1pbGFyIHRvIHRva2VuQnlJbmRleCBpbiBFUkM3MjFFbnVtZXJhYmxlCiAgcnBjIE5GVHMoUXVlcnlORlRzUmVxdWVzdCkgcmV0dXJucyAoUXVlcnlORlRzUmVzcG9uc2UpIHsKICAgIG9wdGlvbiAoZ29vZ2xlLmFwaS5odHRwKS5nZXQgPSAmcXVvdDsvY29zbW9zL25mdC92MWJldGExL25mdHMmcXVvdDs7CiAgfQoKICAvLyBORlQgcXVlcmllcyBhbiBORlQgYmFzZWQgb24gaXRzIGNsYXNzIGFuZCBpZC4KICBycGMgTkZUKFF1ZXJ5TkZUUmVxdWVzdCkgcmV0dXJucyAoUXVlcnlORlRSZXNwb25zZSkgewogICAgb3B0aW9uIChnb29nbGUuYXBpLmh0dHApLmdldCA9ICZxdW90Oy9jb3Ntb3MvbmZ0L3YxYmV0YTEvbmZ0cy97Y2xhc3NfaWR9L3tpZH0mcXVvdDs7CiAgfQoKICAvLyBDbGFzcyBxdWVyaWVzIGFuIE5GVCBjbGFzcyBiYXNlZCBvbiBpdHMgaWQKICBycGMgQ2xhc3MoUXVlcnlDbGFzc1JlcXVlc3QpIHJldHVybnMgKFF1ZXJ5Q2xhc3NSZXNwb25zZSkgewogICAgb3B0aW9uIChnb29nbGUuYXBpLmh0dHApLmdldCA9ICZxdW90Oy9jb3Ntb3MvbmZ0L3YxYmV0YTEvY2xhc3Nlcy97Y2xhc3NfaWR9JnF1b3Q7OwogIH0KCiAgLy8gQ2xhc3NlcyBxdWVyaWVzIGFsbCBORlQgY2xhc3NlcwogIHJwYyBDbGFzc2VzKFF1ZXJ5Q2xhc3Nlc1JlcXVlc3QpIHJldHVybnMgKFF1ZXJ5Q2xhc3Nlc1Jlc3BvbnNlKSB7CiAgICBvcHRpb24gKGdvb2dsZS5hcGkuaHR0cCkuZ2V0ID0gJnF1b3Q7L2Nvc21vcy9uZnQvdjFiZXRhMS9jbGFzc2VzJnF1b3Q7OwogIH0KfQoKLy8gUXVlcnlCYWxhbmNlUmVxdWVzdCBpcyB0aGUgcmVxdWVzdCB0eXBlIGZvciB0aGUgUXVlcnkvQmFsYW5jZSBSUEMgbWV0aG9kCm1lc3NhZ2UgUXVlcnlCYWxhbmNlUmVxdWVzdCB7CiAgc3RyaW5nIGNsYXNzX2lkID0gMTsKICBzdHJpbmcgb3duZXIgICAgPSAyOwp9CgovLyBRdWVyeUJhbGFuY2VSZXNwb25zZSBpcyB0aGUgcmVzcG9uc2UgdHlwZSBmb3IgdGhlIFF1ZXJ5L0JhbGFuY2UgUlBDIG1ldGhvZAptZXNzYWdlIFF1ZXJ5QmFsYW5jZVJlc3BvbnNlIHsKICB1aW50NjQgYW1vdW50ID0gMTsKfQoKLy8gUXVlcnlPd25lclJlcXVlc3QgaXMgdGhlIHJlcXVlc3QgdHlwZSBmb3IgdGhlIFF1ZXJ5L093bmVyIFJQQyBtZXRob2QKbWVzc2FnZSBRdWVyeU93bmVyUmVxdWVzdCB7CiAgc3RyaW5nIGNsYXNzX2lkID0gMTsKICBzdHJpbmcgaWQgICAgICAgPSAyOwp9CgovLyBRdWVyeU93bmVyUmVzcG9uc2UgaXMgdGhlIHJlc3BvbnNlIHR5cGUgZm9yIHRoZSBRdWVyeS9Pd25lciBSUEMgbWV0aG9kCm1lc3NhZ2UgUXVlcnlPd25lclJlc3BvbnNlIHsKICBzdHJpbmcgb3duZXIgPSAxOwp9CgovLyBRdWVyeVN1cHBseVJlcXVlc3QgaXMgdGhlIHJlcXVlc3QgdHlwZSBmb3IgdGhlIFF1ZXJ5L1N1cHBseSBSUEMgbWV0aG9kCm1lc3NhZ2UgUXVlcnlTdXBwbHlSZXF1ZXN0IHsKICBzdHJpbmcgY2xhc3NfaWQgPSAxOwp9CgovLyBRdWVyeVN1cHBseVJlc3BvbnNlIGlzIHRoZSByZXNwb25zZSB0eXBlIGZvciB0aGUgUXVlcnkvU3VwcGx5IFJQQyBtZXRob2QKbWVzc2FnZSBRdWVyeVN1cHBseVJlc3BvbnNlIHsKICB1aW50NjQgYW1vdW50ID0gMTsKfQoKLy8gUXVlcnlORlRzdFJlcXVlc3QgaXMgdGhlIHJlcXVlc3QgdHlwZSBmb3IgdGhlIFF1ZXJ5L05GVHMgUlBDIG1ldGhvZAptZXNzYWdlIFF1ZXJ5TkZUc1JlcXVlc3QgewogIHN0cmluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NfaWQgICA9IDE7CiAgc3RyaW5nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lciAgICAgID0gMjsKICBjb3Ntb3MuYmFzZS5xdWVyeS52MWJldGExLlBhZ2VSZXF1ZXN0IHBhZ2luYXRpb24gPSAzOwp9CgovLyBRdWVyeU5GVHNSZXNwb25zZSBpcyB0aGUgcmVzcG9uc2UgdHlwZSBmb3IgdGhlIFF1ZXJ5L05GVHMgUlBDIG1ldGhvZHMKbWVzc2FnZSBRdWVyeU5GVHNSZXNwb25zZSB7CiAgcmVwZWF0ZWQgY29zbW9zLm5mdC52MWJldGExLk5GVCAgICAgICAgbmZ0cyAgICAgICA9IDE7CiAgY29zbW9zLmJhc2UucXVlcnkudjFiZXRhMS5QYWdlUmVzcG9uc2UgcGFnaW5hdGlvbiA9IDI7Cn0KCi8vIFF1ZXJ5TkZUUmVxdWVzdCBpcyB0aGUgcmVxdWVzdCB0eXBlIGZvciB0aGUgUXVlcnkvTkZUIFJQQyBtZXRob2QKbWVzc2FnZSBRdWVyeU5GVFJlcXVlc3QgewogIHN0cmluZyBjbGFzc19pZCA9IDE7CiAgc3RyaW5nIGlkICAgICAgID0gMjsKfQoKLy8gUXVlcnlORlRSZXNwb25zZSBpcyB0aGUgcmVzcG9uc2UgdHlwZSBmb3IgdGhlIFF1ZXJ5L05GVCBSUEMgbWV0aG9kCm1lc3NhZ2UgUXVlcnlORlRSZXNwb25zZSB7CiAgY29zbW9zLm5mdC52MWJldGExLk5GVCBuZnQgPSAxOwp9CgovLyBRdWVyeUNsYXNzUmVxdWVzdCBpcyB0aGUgcmVxdWVzdCB0eXBlIGZvciB0aGUgUXVlcnkvQ2xhc3MgUlBDIG1ldGhvZAptZXNzYWdlIFF1ZXJ5Q2xhc3NSZXF1ZXN0IHsKICBzdHJpbmcgY2xhc3NfaWQgPSAxOwp9CgovLyBRdWVyeUNsYXNzUmVzcG9uc2UgaXMgdGhlIHJlc3BvbnNlIHR5cGUgZm9yIHRoZSBRdWVyeS9DbGFzcyBSUEMgbWV0aG9kCm1lc3NhZ2UgUXVlcnlDbGFzc1Jlc3BvbnNlIHsKICBjb3Ntb3MubmZ0LnYxYmV0YTEuQ2xhc3MgY2xhc3MgPSAxOwp9CgovLyBRdWVyeUNsYXNzZXNSZXF1ZXN0IGlzIHRoZSByZXF1ZXN0IHR5cGUgZm9yIHRoZSBRdWVyeS9DbGFzc2VzIFJQQyBtZXRob2QKbWVzc2FnZSBRdWVyeUNsYXNzZXNSZXF1ZXN0IHsKICAvLyBwYWdpbmF0aW9uIGRlZmluZXMgYW4gb3B0aW9uYWwgcGFnaW5hdGlvbiBmb3IgdGhlIHJlcXVlc3QuCiAgY29zbW9zLmJhc2UucXVlcnkudjFiZXRhMS5QYWdlUmVxdWVzdCBwYWdpbmF0aW9uID0gMTsKfQoKLy8gUXVlcnlDbGFzc2VzUmVzcG9uc2UgaXMgdGhlIHJlc3BvbnNlIHR5cGUgZm9yIHRoZSBRdWVyeS9DbGFzc2VzIFJQQyBtZXRob2QKbWVzc2FnZSBRdWVyeUNsYXNzZXNSZXNwb25zZSB7CiAgcmVwZWF0ZWQgY29zbW9zLm5mdC52MWJldGExLkNsYXNzICAgICAgY2xhc3NlcyAgICA9IDE7CiAgY29zbW9zLmJhc2UucXVlcnkudjFiZXRhMS5QYWdlUmVzcG9uc2UgcGFnaW5hdGlvbiA9IDI7Cn0K"}}),e._v(" "),s("h3",{attrs:{id:"interoperability"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#interoperability"}},[e._v("#")]),e._v(" Interoperability")]),e._v(" "),s("p",[e._v("Interoperability is all about reusing assets between modules and chains. The former one is achieved by ADR-33: Protobuf client - server communication. At the time of writing ADR-33 is not finalized. The latter is achieved by IBC. Here we will focus on the IBC side.\nIBC is implemented per module. Here, we aligned that NFTs will be recorded and managed in the x/nft. This requires creation of a new IBC standard and implementation of it.")]),e._v(" "),s("p",[e._v("For IBC interoperability, NFT custom modules MUST use the NFT object type understood by the IBC client. So, for x/nft interoperability, custom NFT implementations (example: x/cryptokitty) should use the canonical x/nft module and proxy all NFT balance keeping functionality to x/nft or else re-implement all functionality using the NFT object type understood by the IBC client. In other words: x/nft becomes the standard NFT registry for all Cosmos NFTs (example: x/cryptokitty will register a kitty NFT in x/nft and use x/nft for book keeping). This was "),s("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/discussions/9065#discussioncomment-873206",target:"_blank",rel:"noopener noreferrer"}},[e._v("discussed"),s("OutboundLink")],1),e._v(" in the context of using x/bank as a general asset balance book. Not using x/nft will require implementing another module for IBC.")]),e._v(" "),s("h2",{attrs:{id:"consequences"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#consequences"}},[e._v("#")]),e._v(" Consequences")]),e._v(" "),s("h3",{attrs:{id:"backward-compatibility"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#backward-compatibility"}},[e._v("#")]),e._v(" Backward Compatibility")]),e._v(" "),s("p",[e._v("No backward incompatibilities.")]),e._v(" "),s("h3",{attrs:{id:"forward-compatibility"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#forward-compatibility"}},[e._v("#")]),e._v(" Forward Compatibility")]),e._v(" "),s("p",[e._v("This specification conforms to the ERC-721 smart contract specification for NFT identifiers. Note that ERC-721 defines uniqueness based on (contract address, uint256 tokenId), and we conform to this implicitly because a single module is currently aimed to track NFT identifiers. Note: use of the (mutable) data field to determine uniqueness is not safe.s")]),e._v(" "),s("h3",{attrs:{id:"positive"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#positive"}},[e._v("#")]),e._v(" Positive")]),e._v(" "),s("ul",[s("li",[e._v("NFT identifiers available on Cosmos Hub.")]),e._v(" "),s("li",[e._v("Ability to build different NFT modules for the Cosmos Hub, e.g., ERC-721.")]),e._v(" "),s("li",[e._v("NFT module which supports interoperability with IBC and other cross-chain infrastructures like Gravity Bridge")])]),e._v(" "),s("h3",{attrs:{id:"negative"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#negative"}},[e._v("#")]),e._v(" Negative")]),e._v(" "),s("ul",[s("li",[e._v("New IBC app is required for x/nft")]),e._v(" "),s("li",[e._v("CW721 adapter is required")])]),e._v(" "),s("h3",{attrs:{id:"neutral"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#neutral"}},[e._v("#")]),e._v(" Neutral")]),e._v(" "),s("ul",[s("li",[e._v("Other functions need more modules. For example, a custody module is needed for NFT trading function, a collectible module is needed for defining NFT properties.")])]),e._v(" "),s("h2",{attrs:{id:"further-discussions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#further-discussions"}},[e._v("#")]),e._v(" Further Discussions")]),e._v(" "),s("p",[e._v("For other kinds of applications on the Hub, more app-specific modules can be developed in the future:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("x/nft/custody")]),e._v(": custody of NFTs to support trading functionality.")]),e._v(" "),s("li",[s("code",[e._v("x/nft/marketplace")]),e._v(": selling and buying NFTs using sdk.Coins.")]),e._v(" "),s("li",[s("code",[e._v("x/fractional")]),e._v(": a module to split an ownership of an asset (NFT or other assets) for multiple stakeholder. "),s("code",[e._v("x/group")]),e._v("  should work for most of the cases.")])]),e._v(" "),s("p",[e._v("Other networks in the Cosmos ecosystem could design and implement their own NFT modules for specific NFT applications and use cases.")]),e._v(" "),s("h2",{attrs:{id:"references"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References")]),e._v(" "),s("ul",[s("li",[e._v("Initial discussion: https://github.com/cosmos/cosmos-sdk/discussions/9065")]),e._v(" "),s("li",[e._v("x/nft: initialize module: https://github.com/cosmos/cosmos-sdk/pull/9174")]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/cosmos/cosmos-sdk/blob/main/docs/architecture/adr-033-protobuf-inter-module-comm.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("ADR 033"),s("OutboundLink")],1)])])],1)}),[],!1,null,null,null);t.default=c.exports}}]);